<!DOCTYPE html>




<html dir="ltr" lang="en-gb">
  <head>
    
  <style type="text/css">
    tt.ttp {color: #55b;}
    .posttitle {
      background-color : yellow;
      color: black;
      border: 1px solid black;
      padding: 2px;
      }
  </style>

    
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- View -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />

    <title>Adding facts</title>
    <meta name="description" content="descripts" />
    <meta name="keywords" content="kwds" />

    <link rel="stylesheet" type="text/css" class="ui" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/1.11.5/semantic.min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.5/styles/default.min.css">
    <link rel="stylesheet" type="text/css" href="stylesheets/docs.css">
    <link rel="stylesheet" type="text/css" href="stylesheets/rtl.css">
    <link rel="stylesheet" type="text/css" href="stylesheets/home.css">
    <link rel="stylesheet" type="text/css" href="stylesheets/overlay.css">
    <link rel="stylesheet/less" type="text/css" href="/src/definitions/elements/button.less" />
    <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Karma:600,400,400italic,600italic' rel='stylesheet' type='text/css'>
    <!-- Standard Meta -->
    <link rel="image_src" type="image/png" href="images/logo.png" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <link rel="dns-prefetch" href="//ajax.googleapis.com" />
    <link rel="dns-prefetch" href="//fonts.googleapis.com" />
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="icon" href="images/favicon.ico" type="image/x-icon" />
    <meta name="ICBM" content="51.96659,-2.481413" />
    <meta name="Robots" content="index, follow" />
    <link rel="icon" href="images/favicon.svg" type="image/svg+xml" />
    <!--[if IE]><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
    <!-- For third-generation iPad with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="images/assets/ico/apple-touch-icon-144x144-precomposed.png" />
    <!-- For iPhone with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="images/assets/ico/apple-touch-icon-114x114-precomposed.png" />
    <!-- For first- and second-generation iPad: -->
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="images/assets/ico/apple-touch-icon-72x72-precomposed.png" />
    <!-- For non-Retina iPhone, iPod Touch, and Android 2.1+ devices: -->
    <link rel="apple-touch-icon-precomposed" href="images/assets/ico/apple-touch-icon-57-precomposed.png" />
    <link rel="alternate" type="application/atom+xml" href="feed.atom" title="Atom feed for DOACC" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-migrate/1.2.1/jquery-migrate.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.11.2/jquery-ui.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/1.11.5/semantic.min.js"></script>
    <script type="text/javascript" src="javascript/rdflib/rdflib.js"></script>

  </head>
  <body id="doacc" class="index" 
    prefix="dc: http://purl.org/dc/terms/ doacc: http://purl.org/net/bel-epa/doacc# ccs: http://purl.org/net/bel-epa/cc# skos: http://www.w3.org/2004/02/skos/core# foaf: http://xmlns.com/foaf/0.1/ fresnel: http://www.w3.org/2004/09/fresnel#">
    <noscript>
      <div class="noscript">
      Your browser settings show that JavaScript is disabled. (Good call, we too browse with javascript disabled). If you enable it for this site, you’ll get the full benefit of the user-oriented enhancements: nice fonts, drop-down menus, active tabs and the like. We recommend that you turn on Javascript and then refresh this page. <a href="http://www3.qwest.com/cgi-bin/qwest.cfg/php/enduser/std_adp.php?p_faqid=1095" target="_blank">How do I turn on Javascript?</a>
      </div>
    </noscript>
    
  <div class="ui vertical inverted sidebar menu" id="toc">

    <div class="item">
      <a class="ui logo icon image" href="index.html"><img src="images/logo.png" alt="logo"></a>
      <a href="index.html"><b>DOACC home</b></a>
    </div>
    <div class="item">
      <div class="ui small inverted header">Facts</div>
      <div class="menu">
        <a class="item" href="facts.html">Intro</a>
        <a class="item" href="facts-protectionschemes.html">Protection</a>
        <a class="item" href="facts-distributionschemes.html">Distribution</a>
        <a class="item" href="facts-powschemes.html">PoW</a>
        <a class="item" href="facts-posschemes.html">PoS</a>
        <a class="item" href="facts-protocols.html">Protocols</a>
        <a class="item" href="facts-coins.html">Coins</a>
        <a class="item" href="facts-future.html">Upcoming</a>
      </div>
    </div>
    <div class="item">
      <div class="ui small inverted header">Concepts</div>
      <div class="menu">
        <a class="item" href="concepts.html">Intro</a>
        <a class="item" href="things-protectionschemes.html">Protection</a>
        <a class="item" href="things-distributionschemes.html">Distribution</a>
        <a class="item" href="things-powschemes.html">PoW</a>
        <a class="item" href="things-posschemes.html">PoS</a>
        <a class="item" href="things-protocols.html">Protocols</a>
        <a class="item" href="things-coins.html">Coins</a>
        <a class="item" href="doacc-owl.html">DOACC OWL</a>
        <a class="item" href="ccy-owl.html">CCY OWL</a>
      </div>
    </div>
    <div class="item">
      <div class="ui small inverted header">Techniques</div>
      <div class="menu">
        <a class="item" href="techniques.html">Intro</a>
        <a class="item" href="techniques-rdfa.html">DOM</a>
        <a class="item" href="techniques-querying.html">Query results</a>
        <a class="item" href="techniques-javascript.html">Javascript</a>
        <a class="item" href="techniques-interactive.html">Interactive</a>
        <a class="item" href="techniques-charting.html">Charting</a>
        <a class="item" href="techniques-graphing.html">Graphing</a>
        <a class="item" href="techniques-adding.html">Adding facts</a>
        <a class="item" href="techniques-reasoning.html">Reasoning</a>
      </div>
    </div>

    <div class="item">
      <div class="ui small inverted header">Etc</div>
      <div class="menu">
        <a class="item" href="about.html">About</a>
        <a class="item" href="privacy-policy.html">Privacy</a>
        <a class="item" href="terms.html">Terms</a>
        <a class="item" href="altcoins.svg">Altcoin cheatsheet</a>
        <a class="item" href="hercules-demo.html">SPARQL demo</a>
        <a class="item" href="rdfstore-demo.html">RDFstore demo</a>
        <a class="item" href="twitter-demo.html">RDF/a demo</a>
      </div>
    </div>


  </div>

  <div class="ui black big launch right attached fixed button"> <i class="content icon"></i> <span class="text">Menu</span>
  </div>

  <div class="ui fixed main menu">
    <div class="container">
      <a class="launch item"><i class="content icon"></i> Menu</a>
      <div class="right menu">
      </div>
    </div>
  </div>



    <div class="pusher">
      <div class="full height">
        
      <div class="following bar">
        <div class="ui page grid">
          <div class="column">
            <div class="ui logo shape">
              <div class="sides">
                <div class="active ui side"><a href="index.html" title="home"><img class="ui image" src="images/logo.png" alt="Logo"></a></div>
              </div>
            </div>
            <div class="ui inverted right floated secondary menu">
              <a class="ui item" href="facts.html">
                <i class="large icon-rdf"></i> 
                <span class="ui inverted blue header">Facts</span>
              </a>
              <a class="ui item" href="concepts.html">
                <i class="large icon-semantic-web"></i>
                <span class="ui inverted orange header">Concepts</span>
              </a>
              <a class="ui item" href="techniques.html">
                <i class="large icon-semantics"></i>
                <span class="ui inverted green header">Techniques</span>
              </a>
              <a class="ui item" href="altcoins.svg">
                <i class="icon-bitcoin"></i> 
                <span class="ui inverted yellow header">Coins (big)</span>
              </a>
            </div>
            <div class="ui large inverted secondary network menu">
              <a class="view-ui item">
                <i class="sidebar icon"></i> Menu
              </a>
            </div>
          </div>
        </div>
      </div>

        
        <div class="subheader">
          <div class="container">
            <div class="right-content">
              <a href="#">“In theory, theory and practice are the same.<br/>In practice, they are not.”</a> <span class="rth"> - Albert Einstein</span>
            </div>
            <h2 class="ui header inverted">Techniques<br/>
              <span class="sub header">how to use DOACC data in your own application / web site.</span>
            </h2>
            <div class="ui divider"></div>
          </div>
        </div>
        <div class="container" >

          <div class="ui sub secondary pointing menu">
            <a class="item" href="techniques.html">Basics</a>
            <a class="item" href="techniques-rdfa.html">DOM</a>
            <a class="item" href="techniques-querying.html">Querying</a>
            <a class="item" href="techniques-javascript.html">Javascript</a>
            <a class="item" href="techniques-interactive.html">Interactive</a>
            <a class="item" href="techniques-charting.html">Charting</a>
            <a class="item" href="techniques-graphing.html">Graphing</a>
            <a class="active item" href="techniques-adding.html">Adding facts</a>
            <a class="item" href="techniques-reasoning.html">Reasoning</a>
          </div>

          <h2 class="ui dividing header">Adding facts</h2>
          <h3 class="ui header">A <em>very brief</em> case study in augmenting DOACC with additional data.</h3>
          <p>To be frank, 2100+ entries is too much to comprehend in one pass. No, I'm quite sure of that; take a <a href="/altcoins.svg">look for yourself</a>. In order to populate the examples for this documentation it proved necessary to construct an arbitrary subset. I chose to use the top 20 marketcap coins, (using a [2:22] offset to avoid the overwhelming disproportion of BTC &amp; LTC data).</p>
          <p>I worked through the archive.org records for coinmarketcap.com for the last 12 months, month by month. Sponging up the data from the web page is relatively straightforward and as an example, this is what the row of data for Stellar can be boiled down to:
          <div class="code json" data-title="Example post datum" data-type="json">{
  "st": "ok",
  "nm": "Stellar",
  "sy": "STR",
  "mcu": 12951957.9384,
  "mcb": 52836.5556735,
  "pu": 0.00269609,
  "pb": 1.09985e-05,
  "ps": "pos",
  "ch": 4803978331,
  "vu": 21592.5,
  "vb": 88.0852,
  "hu": -1.23,
  "hb": -1.00,
  "du": 0.43,
  "db": 3.81,
  "wu": -3.42,
  "wb": -2.46
}</div>  
          <p>Each of the monthly postings of data must record the date and pertaining BTC/USD exchange rate price, for later reconstruction of $ values. Each update of the coinmarketcap page is a fresh posting of data. A “Post” thing is indicated, stating the date of posting and the BTC-USD price pertaining at that time.</p>
          <p>For the datum points themselves, a “Datum” thing will be needed to make statements about the contents of each of the row cells. The outline below is rendered in Notation3 format for brevity and just hits the high points:
          <div class="code n3" data-title="Coinmarketcap mini-ontology" data-type="n3">:CMPost a owl:Class ;
      rdfs:comment "coinmarketcap.com post"@en ;
      skos:prefLabel "CMPost"@en .

:date a owl:DatatypeProperty ;
      rdfs:domain :CMPost ;
      rdfs:comment "The timestamp of the post"@en ;
      skos:prefLabel "date"@en .

:CMPostDatum a owl:Class ;
      rdfs:comment "datum from a coinmarketcap.com post"@en ;
      skos:prefLabel "CMPostDatum"@en .

:cmp a owl:ObjectProperty ;
      rdfs:domain :CMPostDatum ;
      rdfs:range :CMPost ;
      rdfs:comment "contextual post"@en ;
      skos:prefLabel "cmp"@en .

:marketcap a owl:DatatypeProperty ;
      rdfs:domain :CMPostDatum ;
      rdfs:range xsd:float ;
      rdfs:comment "Market capitalisation"@en ;
      skos:prefLabel "marketcap"@en .</div>
        <p>And examples of a post and related datum point also rendered in Notation3:</p>
          <div class="code n3" data-title="Coinmarketcap mini-ontology" data-type="n3">:cmp-1 a :CMPost ;
      dc:date "2014-01-29T10:35:00"^^xsd:date ;
      :btc "817.62"^^xsd:float .

:cmpd-1 a :CMPostDatum ;
      :cmp :cmp-1 ;
      :cryptocurrency doacc:D1edd900c-399e-471c-87a3-c214ce3c969d ;
      :daily "0.0"^^xsd:float ;
      :marketcap "2457847.0"^^xsd:float ;
      :price "2.458e-05"^^xsd:float ;
      :qual 2 ;
      :stale false ;
      :volume "110.0"^^xsd:float .</div>
          <p>Feel free to grab <a href="cmdata.n3" title="Coinmarketcap data for 2014">the full content</a> (268K)</p>
          <p>The <a href="techniques-charting.html">Charting</a> page (also see tab above) goes into detail about getting the data into the charting library but the core activity is outlined below:</p>
          <div class="code javascript" data-title="Core of processing added data" data-type="javascript">var listout = function() { // a callback function, runs after the data is retrieved
      cmpno = 'cmp-'+'2'; // arbitrary example
      dt = g.any(CCS(cmpno), DC('date'), null); // date, for title
      cmpds = g.each(null, CCS('cmp'), CCS(cmpno)); // the datapoints for the post
      var res = $.map(cmpds.slice(2,22), function(cmp) { // map over the datum points
          var cn = g.any(g.any(cmp, CCS('cryptocurrency'), null), DOACC('symbol'), null); // get the coin symbol
          var val = g.any(cmp, CCS('marketcap'), null); // read the marketcap value
          return  {"label": cn.value, "value": parseFloat(val.value).toFixed(0)} // return a dictionary
      });
      data = $.map(res, function(p) {return p['value'] * 10});  // create list of size-adjusted values
      labels = $.map(res, function(p) {return p['label']}); // create list of labels
      ...  // the lists are passed to the chart library.
};
var g = $rdf.graph(); // instantiate the graph
var docURI = "http://localhost.localdomain/altcoin.n3"; // specify the source
var fetch = $rdf.fetcher(g); // bind the graph and return the fetcher
fetch.nowOrWhenFetched(docURI,undefined,function(ok, body, xhr){ // @@ check ok
      listout() // callback, see above
});</div>
          <div class="ui hidden divider"></div>
        </div>

      </div>
    </div>
    
  <div class="ui vertical inverted black footer segment">
    <div class="container">
      <div class="ui stackable inverted divided relaxed grid">

        <div class="four wide column">
          <h3 class="ui blue inverted header">Facts</h3>
          <div class="ui inverted link list">
            <a class="item" href="facts-protectionschemes.html">protection schemes</a>
            <a class="item" href="facts-distributionschemes.html">distribution schemes</a>
            <a class="item" href="facts-powschemes.html">PoW schemes</a>
            <a class="item" href="facts-posschemes.html">PoS schemes</a>
            <a class="item" href="facts-protocols.html">protocols</a>
            <a class="item" href="facts-coins.html">altcoins</a>
          </div>
        </div>

        <div class="four wide column">
          <h3 class="ui orange inverted header">Concepts</h3>
          <div class="ui inverted link list">
            <a class="item" href="things-protectionschemes.html">protection schemes</a>
            <a class="item" href="things-distributionschemes.html">distribution schemes</a>
            <a class="item" href="things-powschemes.html">PoW schemes</a>
            <a class="item" href="things-posschemes.html">PoS schemes</a>
            <a class="item" href="doacc-owl.html">DOACC</a>
            <a class="item" href="ccy-owl.html">CCY</a>
          </div>
        </div>

        <div class="four wide column">
          <h3 class="ui green inverted header">Techniques</h3>
          <div class="ui inverted link list">
            <a class="item" href="techniques-adding.html">adding facts</a>
            <a class="item" href="techniques-reasoning.html">reasoning</a>
            <a class="item" href="techniques-querying.html">asking questions</a>
            <a class="item" href="faq.html">FAQ</a>
          </div>
        </div>

        <div class="four wide column">
          <h3 class="ui inverted header">DOACC <img style="padding-left: 1.3rem; height:32px; width:88px; vertical-align:middle;" src="images/data-badge-5.png" alt="five star open Web data"/></h3>
          <p></p>
          <p class="terms-privacy">made with <i class="icon-rdf icon"></i> in the UK.</p>
          <p class="terms-privacy">&copy; 2015</p>
          <div class="ui inverted link list">
            <a class="terms-privacy" href="about.html">About</a> |
            <a class="terms-privacy" href="privacy-policy.html">Privacy</a> |
            <a class="terms-privacy" href="terms.html">Terms</a>
          </div>
        </div>

      </div>
    </div>
  </div>

  <div class="ui demo page dimmer">
    <div class="content">
      <div class="center"><h2 class="ui inverted icon header"><i class="mail icon"></i>Dimmer Message<br/><span class="sub header">Dimmer sub-header</span></h2></div>
    </div>
  </div>

  <script type="text/javascript" src="javascript/jquery/jquery.humane_dates.js"></script>
  <script type="text/javascript" src="javascript/library/svg.min.js"></script>

  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.5/highlight.min.js"></script>
  <script type="text/javascript" src="javascript/library/easing.min.js"></script>
  <script type="text/javascript" src="javascript/library/typing.min.js"></script>
  <script type="text/javascript" src="javascript/library/n3-browser.min.js"></script>
  <script type="text/javascript" src="javascript/library/jsonld.js"></script>
  <script src="javascript/library/js-beautify/beautify.js"></script>
  <script src="javascript/library/js-beautify/beautify-html.js"></script>
  <script src="javascript/docs.js"></script>
  <script src="javascript/home.js"></script>
  <script>
    window.less = {
      async        : true,
      environment  : 'production',
      fileAsync    : false,
      onReady      : false,
      useFileCache : true
    };
  </script>
  <script type="text/javascript" src="javascript/n3.js"></script>
  <script src="javascript/library/less.min.js"></script>

  <script type="text/javascript">
    // sgvizler.containerDrawAll("ex");
    $('.ui .item').on('click', function() {
      $('.ui .item').removeClass('active');
      $(this).addClass('active');
    });
    $('.long.test.modal').modal('attach events', '.test.button', 'show');
    $('.ui.modal').modal();
    $('.ui.long.test.modal').modal();
    $("#autocomplete").autocomplete({
      prompt: "", source: "/coin/symbol"});
    $('time').humaneDates();
    $('.accordion').accordion();
    /* beautify all code with class="raw" */
    $('.raw').each(function() {beautify(this)});
  </script>

    

  </body>
</html>
